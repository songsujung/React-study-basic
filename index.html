<!-- 분에서 시간으로, 시간에서 분으로 등 unit conversion(단위 변환) 앱 -->
<!DOCTYPE html>
<html>
    <body>
        <div id="root"></div>
    </body>
    <!-- react import -->
    <!-- react JS는 엔진과 같은 역할 -->
    <script src="https://unpkg.com/react@17.0.2/umd/react.development.js"></script>
    <!-- react-dom은 react element를 HTML에 두는 역할(library, package 등으로 불림) -->
    <script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.development.js"></script>
    <!-- 브라우저에서는 JSX코드를 인식하지 못하기 때문에 인식하는 코드로 변환시켜주기 위한 코드(이 코드를 사용하는 것 외에 더 좋은 방식이 있긴 하다.) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">
        function App() {
            // JSX에서 for, class같은 Js언어를 사용하면 오류가 난다. htmlFor이라고 적어줘야 함 
            // useState는 array를 제공한다. 첫 번째 element가 현재의 값이 되고, 두 번째 element는 현재 값을 수정하고, component를 새로고침할 때 쓰는 함수가 들어감
            const [amount, setAmount] = React.useState(0); // default값을 0으로 설정
            const [inverted, setInverted] = React.useState(false); // decault값이 false
            // input에 새로운 값을 입력할 때마다 state를 업데이트하는 이벤트
            const onChange = (event) => {
                setAmount(event.target.value); // 입력하는 값이 즉시 업데이트
            };
            const reset = () => setAmount(0); // 디폴트값을 0으로 설정(초기화)
            const onInvert = () => {
                reset(); // Flip버튼을 누를때마다 입력값들이 0으로 초기화
                setInverted((current) => !current); // 현재 값을 받아서 그 반대 값으로 둔다.(true면 false로, false면 true로)
            };
            return(
                /* 
                * inverted의 상태(false, true)에 따라서 input을 disabled 또는 enabled로 바꿀 수 있다.
                * inverted가 true면, minutes input이 disabled(입력이 막힘)되고, amount * 60 = 시 -> 분으로 변환
                  inverted가 false면, hours input이 disabled(입력이 막힘)되고, Math.round(amount / 60) = 분 -> 시로 변환
                * 또한, enabled상태인 인풋창에서 amount state를 변경할 수 있다.
                */
                <div>
                    <h1>Super Converter</h1>
                    <div>
                        <label htmlFor="minutes">Minutes</label>
                        <input 
                            value={inverted ? amount * 60 : amount}  
                            id="minutes" 
                            placeholder="Minutes" 
                            type="number"
                            onChange={onChange}
                            disabled={inverted}
                        />
                    </div>
                    <div>
                        {" "}
                        <label htmlFor="hours">Hours</label>
                        <input 
                            value={inverted ? amount : Math.round(amount / 60)} 
                            id="hours"
                            placeholder="Hours" 
                            type="number"
                            onChange={onChange}
                            disabled={!inverted}
                        />
                    </div>
                    <button onClick={reset}>Reset</button>
                    <button onClick={onInvert}>{inverted ? "Turn back" : "Invert"}</button>
                </div>
            );
        }
        const root = document.getElementById("root");
        ReactDOM.render(<App />, root);
    </script>
</html>